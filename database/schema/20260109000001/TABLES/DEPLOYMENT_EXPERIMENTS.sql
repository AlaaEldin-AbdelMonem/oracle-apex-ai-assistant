--------------------------------------------------------
--  DDL for Table DEPLOYMENT_EXPERIMENTS
--------------------------------------------------------

  CREATE TABLE "DEPLOYMENT_EXPERIMENTS" 
   (	"EXPERIMENT_ID" NUMBER GENERATED ALWAYS AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE , 
	"EXPERIMENT_NAME" VARCHAR2(100 BYTE) COLLATE "USING_NLS_COMP", 
	"EXPERIMENT_TYPE" VARCHAR2(20 BYTE) COLLATE "USING_NLS_COMP", 
	"HYPOTHESIS" VARCHAR2(4000 BYTE) COLLATE "USING_NLS_COMP", 
	"SUCCESS_METRICS_JSON" JSON, 
	"START_DATE" TIMESTAMP (6), 
	"PLANNED_END_DATE" TIMESTAMP (6), 
	"ACTUAL_END_DATE" TIMESTAMP (6), 
	"EXPERIMENT_STATUS" VARCHAR2(20 BYTE) COLLATE "USING_NLS_COMP" DEFAULT 'DRAFT', 
	"IS_ACTIVE" CHAR(1 BYTE) COLLATE "USING_NLS_COMP" DEFAULT 'N', 
	"WINNER_DEPLOYMENT_ID" NUMBER, 
	"CONCLUSION_NOTES" CLOB COLLATE "USING_NLS_COMP", 
	"CREATED_BY" NUMBER, 
	"CREATED_AT" TIMESTAMP (6) DEFAULT SYSTIMESTAMP, 
	"UPDATED_BY" NUMBER, 
	"UPDATED_AT" TIMESTAMP (6)
   )  DEFAULT COLLATION "USING_NLS_COMP" SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 10 MAXTRANS 255 
 NOCOMPRESS LOGGING
 JSON ("SUCCESS_METRICS_JSON") STORE AS ( CHUNK 8192 RETENTION MIN 1800) 
 LOB ("CONCLUSION_NOTES") STORE AS SECUREFILE (ENABLE STORAGE IN ROW 4000 CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES ) ;

   COMMENT ON COLUMN "DEPLOYMENT_EXPERIMENTS"."HYPOTHESIS" IS 'What improvement is expected? e.g., "Higher temperature will increase user satisfaction"';
   COMMENT ON COLUMN "DEPLOYMENT_EXPERIMENTS"."SUCCESS_METRICS_JSON" IS 'JSON defining success criteria, e.g., {"min_success_rate": 95, "max_latency_ms": 2000}';
   COMMENT ON TABLE "DEPLOYMENT_EXPERIMENTS"  IS 'Groups related deployment versions into controlled A/B tests and experiments';
